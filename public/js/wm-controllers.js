!function(r,e,s){"use strict";wmApp.controller("authCtrl",["$scope","$http","$state","authAPI","$localStorage",function(r,e,s,n,t){function o(){return u(),0===r.auth.username.length?(r.usernameError="Please enter a usename.",!1):r.auth.username.length<3?(r.usernameError="Username must be greater than 3 characters long.",!1):0===r.auth.pass.length?(r.passError="Please enter a password.",!1):r.auth.pass.length<5?(r.passError="Password must be greater than 6 characters long.",!1):r.auth.confirmPass===r.auth.pass||(r.confirmPassError="Passwords must match.",!1)}function a(){return u(),0===r.auth.username.length?(r.usernameError="Please enter your username.",!1):0===r.auth.pass.length?(r.passError="Please enter your password.",!1):void 0}function u(){r.usernameError=null,r.passError=null,r.confirmPassError=null,r.serverError=null,r.serverSuccess=null}r.registerUser=function(){if(r.registeringUser=!0,!o())return r.registeringUser=!1,!1;console.log("Attempting to register user..."),n.registerUser(r.auth.username,r.auth.pass).then(function(e){console.log(e),r.serverSuccess=e.data,r.registeringUser=!1},function(e){console.log(e),r.serverError=e.data,r.registeringUser=!1}),r.registeringUser=!1},r.loginUser=function(){r.loggingUser=!0,a(),n.loginUser(r.auth.username,r.auth.pass).then(function(e){console.log(e),t.currentUser=e.data,r.loggingUser=!1,s.go("home")},function(e){console.log(e),r.serverError=e.data,r.loggingUser=!1}),r.loggingUser=!1},r.auth={username:"",pass:"",confirmPass:""}}]),wmApp.controller("homeCtrl",["$scope",function(r){}]),wmApp.controller("indexCtrl",["$rootScope","$scope","$state","authAPI",function(r,e,s,n){e.logout=function(){n.logout()}}]),wmApp.controller("plannerCtrl",["$scope","$state",function(r,e){}]),wmApp.controller("stylesCtrl",["$scope",function(r){}])}(window,document);