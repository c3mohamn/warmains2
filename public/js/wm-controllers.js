!function(e,s,t){"use strict";wmApp.controller("authCtrl",["$scope","$http","$state","authAPI","$localStorage",function(e,s,t,r,n){function a(){return l(),0===e.auth.username.length?(e.usernameError="Please enter a usename.",!1):e.auth.username.length<3?(e.usernameError="Username must be greater than 3 characters long.",!1):0===e.auth.pass.length?(e.passError="Please enter a password.",!1):e.auth.pass.length<5?(e.passError="Password must be greater than 6 characters long.",!1):e.auth.confirmPass===e.auth.pass||(e.confirmPassError="Passwords must match.",!1)}function o(){return l(),0===e.auth.username.length?(e.usernameError="Please enter your username.",!1):0===e.auth.pass.length?(e.passError="Please enter your password.",!1):void 0}function l(){e.usernameError=null,e.passError=null,e.confirmPassError=null,e.serverError=null,e.serverSuccess=null}e.registerUser=function(){if(e.registeringUser=!0,!a())return e.registeringUser=!1,!1;console.log("Attempting to register user..."),r.registerUser(e.auth.username,e.auth.pass).then(function(s){console.log(s),e.serverSuccess=s.data,e.registeringUser=!1},function(s){console.log(s),e.serverError=s.data,e.registeringUser=!1}),e.registeringUser=!1},e.loginUser=function(){e.loggingUser=!0,o(),r.loginUser(e.auth.username,e.auth.pass).then(function(s){console.log(s),n.currentUser=s.data,e.loggingUser=!1,t.go("home")},function(s){console.log(s),e.serverError=s.data,e.loggingUser=!1}),e.loggingUser=!1},e.auth={username:"",pass:"",confirmPass:""}}]),wmApp.controller("homeCtrl",["$rootScope","$localStorage","$scope",function(e,s,t){console.log("homeCtrl: ",e.currentUser)}]),wmApp.controller("indexCtrl",["$rootScope","$scope","$state","authAPI",function(e,s,t,r){s.logout=function(){r.logout()},s.$state=t,console.log(t)}]),wmApp.controller("plannerCtrl",["$scope","$state",function(e,s){e.test="test"}]),wmApp.controller("stylesCtrl",["$scope",function(e){}]),wmApp.controller("talentCalcCtrl",["$scope","charHelper","talentHelper","$stateParams","$state","$location",function(e,s,t,r,n,a){function o(){t.clearTalents(e.talentPoints,e.talentPointsDetails,e.classId)}e.classes=s.classes,e.specs=s.specs,e.urlTalents=a.search().talents,e.classId=r.class,e.talentPointsDetails=t.talentPointsDetails,e.talentPoints={},e.changeClass=function(e){console.log("Changing Class."),n.go("talent-calculator",{class:e})},e.validClassId=function(){return!(""===e.classId||!e.classId||!e.classes[e.classId])},e.clearTalents=o,e.classId&&function(){var s=all_talents[e.classId];if(o(),a.search().talents)for(var r in s){e.talentPoints[r]=0;var n=parseInt(e.urlTalents[r])||0,l=r,c=e.talentPoints,u=e.talentPointsDetails;t.addPoint(n,l,c,u,s)}console.log(e.talentPoints,e.talentPointsDetails)}()}])}(window,document);