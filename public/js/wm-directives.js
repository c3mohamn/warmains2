!function(t,e,n){"use strict";wmApp.directive("ngRightClick",function(t){return function(e,n,o){var i=t(o.ngRightClick);n.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),i(e,{$event:t})})})}}),wmApp.directive("wmTalent",["charHelper","talentHelper","$location",function(t,e,n){return{restrict:"E",scope:{classId:"@",col:"@",row:"@",tree:"@",talents:"=",details:"="},templateUrl:"/partials/wm-talent.html",link:function(n,o,i){var l=all_talents[n.classId];n.specs=t.specs,n.talentBg=function(){return!!n.talent&&{"background-image":"url(/images/talents/"+n.classId+"/"+n.specs[n.classId][n.tree]+"/"+n.talentId+".jpg)"}},n.addPoint=function(){console.log(n.talentId,n.talents,n.details),e.addPoint(1,n.talentId,n.talents,n.details,l)&&(n.points+=1)};for(var s in l)l[s].row==n.row&&l[s].col==n.col&&l[s].tree==n.tree&&(n.talent=l[s],n.talentId=s,n.points=n.talents[s])}}}]),wmApp.directive("wmTooltip",["$compile","$document",function(t,e){return{restrict:"A",scope:{position:"@",content:"@",hideTooltip:"@"},link:function(n,o,i){var l=n.position||"top-middle",s=t("<div class='wm-tooltip' ng-show='showHover'>{{content}}</div>")(n),c=o[0].getBoundingClientRect(),a=c.width,r=c.height;n.showHover=!1,e.find("body").append(s);var p=s[0].getBoundingClientRect(),d=p.width,u=p.height;n.hideTooltip||o.bind("mouseenter",function(t){n.$apply(function(){var e=t.target.getBoundingClientRect();switch(l){case"top-middle":s.css("left",e.left-d/2+a/2+"px"),s.css("top",e.top-u-10+"px");break;case"left-middle":s.css("left",e.left-d-10+"px"),s.css("top",e.top-u/2+r/2+"px");break;case"right-middle":s.css("left",e.right+10+"px"),s.css("top",e.top-u/2+r/2+"px");break;default:s.css("left",e.left-d/2+a/2+"px"),s.css("top",e.bottom+10+"px")}n.showHover=!0})}),o.bind("mouseleave",function(){n.$apply(function(){n.showHover=!1})}),o.on("$destroy",function(){n.$destroy()}),n.$on("$destroy",function(){s.remove()})}}}])}(window,document);