!function(t,e,n){"use strict";wmApp.directive("ngRightClick",function(t){return function(e,n,o){var i=t(o.ngRightClick);n.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),i(e,{$event:t})})})}}),wmApp.directive("wmTalent",["charHelper",function(t){return{restrict:"E",scope:{classId:"@",col:"@",row:"@",tree:"@",talents:"="},templateUrl:"/partials/wm-talent.html",link:function(e,n,o){var i=all_talents[e.classId];e.specs=t.specs,e.talentBg=function(){return!!e.talent&&{"background-image":"url(/images/talents/"+e.classId+"/"+e.specs[e.classId][e.tree]+"/"+e.talentId+".jpg)"}};for(var c in i)i[c].row==e.row&&i[c].col==e.col&&i[c].tree==e.tree&&(e.talent=i[c],e.talentId=c)}}}]),wmApp.directive("wmTooltip",["$compile","$document",function(t,e){return{restrict:"A",scope:{position:"@",content:"@",hideTooltip:"@"},link:function(n,o,i){var c=n.position||"top-middle",s=t("<div class='wm-tooltip' ng-show='showHover'>{{content}}</div>")(n),l=o[0].getBoundingClientRect(),r=l.width,p=l.height;n.showHover=!1,e.find("body").append(s);var a=s[0].getBoundingClientRect(),d=a.width,u=a.height;n.hideTooltip||o.bind("mouseenter",function(t){n.$apply(function(){var e=t.target.getBoundingClientRect();switch(c){case"top-middle":s.css("left",e.left-d/2+r/2+"px"),s.css("top",e.top-u-10+"px");break;case"left-middle":s.css("left",e.left-d-10+"px"),s.css("top",e.top-u/2+p/2+"px");break;case"right-middle":s.css("left",e.right+10+"px"),s.css("top",e.top-u/2+p/2+"px");break;default:s.css("left",e.left-d/2+r/2+"px"),s.css("top",e.bottom+10+"px")}n.showHover=!0})}),o.bind("mouseleave",function(){n.$apply(function(){n.showHover=!1})}),o.on("$destroy",function(){n.$destroy()}),n.$on("$destroy",function(){s.remove()})}}}])}(window,document);