!function(t,e,o){"use strict";wmApp.directive("ngRightClick",function(t){return function(e,o,n){var i=t(n.ngRightClick);o.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),i(e,{$event:t})})})}}),wmApp.directive("wmTalent",["charHelper",function(t){return{restrict:"E",scope:{classId:"@",col:"@",row:"@",tree:"@"},templateUrl:"/partials/wm-talent.html",link:function(e,o,n){var i=all_talents[e.classId];e.specs=t.specs,e.talentBg=function(){return!!e.talent&&{"background-image":"url(/images/talents/"+e.classId+"/"+e.specs[e.classId][e.tree]+"/"+e.talentId+".jpg)"}};for(var p in i)i[p].row==e.row&&i[p].col==e.col&&i[p].tree==e.tree&&(e.talent=i[p],e.talentId=p)}}}]),wmApp.directive("wmTooltip",["$compile","$document",function(t,e){return{restrict:"A",scope:{position:"@",content:"@"},link:function(o,n,i){var p=o.position||"top-middle",l=t("<div class='wm-tooltip' ng-show='showHover'>{{content}}</div>")(o),s=n.prop("width"),c=n.prop("height");o.showHover=!1,e.find("body").append(l);var r=l.prop("offsetWidth"),a=l.prop("offsetHeight");n.bind("mouseenter",function(t){o.$apply(function(){var e=t.target.getBoundingClientRect();console.log(e.left,e.top,s,c,r,a),"top-middle"==p?(l.css("left",e.left-r/2+s/2+"px"),l.css("top",e.top-a-10+"px")):"left-middle"==p?(l.css("left",e.left-r-10+"px"),l.css("top",e.top-a/2+c/2+"px")):"right-middle"==p?(l.css("left",e.right+10+"px"),l.css("top",e.top-a/2+c/2+"px")):"bottom-middle"==p&&(l.css("left",e.left-r/2+s/2+"px"),l.css("top",e.bottom+10+"px")),o.showHover=!0})}),n.bind("mouseleave",function(){o.$apply(function(){o.showHover=!1})})}}}])}(window,document);